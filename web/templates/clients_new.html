<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<header class="topbar">
    <a href="/" class="logo">IB Integrator</a>


    <nav>
        <a href="/clients">–ö–ª–∏–µ–Ω—Ç—ã</a>
        <a href="/assets">–û–±—ä–µ–∫—Ç—ã –∑–∞—â–∏—Ç—ã</a>
        <a href="/projects">–ü—Ä–æ–µ–∫—Ç—ã</a>
        {{ if .IsAdmin }}
            <a href="/audit">–ê—É–¥–∏—Ç</a>
        {{ end }}
        <a href="/logout">–í—ã—Ö–æ–¥</a>
    </nav>

    <div class="user-info">
        {{ if .CurrentUser }}
            üë§ {{ .CurrentUser.Username }} ({{ .CurrentUser.Role }})
        {{ end }}
    </div>
</header>


<main class="content">
    <div class="form-card form-card-wide">
        <h2>–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞</h2>
        <p class="muted" style="margin-top:4px;margin-bottom:14px;font-size:13px;">
            –ö–∞—Ä—Ç–æ—á–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏-–∑–∞–∫–∞–∑—á–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä–∞ –ø–æ –ò–ë: –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –±–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞.
        </p>

        {{ if .error }}
            <div class="error">{{ .error }}</div>
        {{ end }}

        <form method="post" action="/clients/new">
            <div class="form-vertical">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *
                    <input type="text" name="name" required placeholder="–û–û–û ¬´–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å+¬ª">
                </label>

                <!-- –¢–ò–ü –û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò ‚Äî SELECT -->
                <label>–¢–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
                    <select name="org_type" id="orgTypeSelect">
                        <option value="">‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø ‚Äî</option>
                        <option value="–ë–∞–Ω–∫/—Ñ–∏–Ω–∞–Ω—Å—ã">–ë–∞–Ω–∫ / —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</option>
                        <option value="–ì–æ—Å–æ—Ä–≥–∞–Ω">–ì–æ—Å–æ—Ä–≥–∞–Ω / –º—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç</option>
                        <option value="–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ">–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</option>
                        <option value="–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å/–ö–ò–ò">–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å / –æ–±—ä–µ–∫—Ç—ã –ö–ò–ò</option>
                        <option value="IT/–¢–µ–ª–µ–∫–æ–º">IT / —Ç–µ–ª–µ–∫–æ–º</option>
                        <option value="–†–∏—Ç–µ–π–ª/—É—Å–ª—É–≥–∏">–†–∏—Ç–µ–π–ª / —É—Å–ª—É–≥–∏ / e-commerce</option>
                        <option value="–ú–µ–¥–∏—Ü–∏–Ω–∞">–ú–µ–¥–∏—Ü–∏–Ω–∞ / –∫–ª–∏–Ω–∏–∫–∞</option>
                        <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                    </select>
                </label>

                <label>–ò–ù–ù
                    <input type="text" name="inn" placeholder="10‚Äì12 —Ü–∏—Ñ—Ä">
                </label>

                <!-- –û–¢–†–ê–°–õ–¨ ‚Äî SELECT, –ó–ê–í–ò–°–ò–¢ –û–¢ –¢–ò–ü–ê -->
                <label>–û—Ç—Ä–∞—Å–ª—å
                    <select name="industry" id="industrySelect">
                        <option value="">‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∞—Å–ª—å ‚Äî</option>
                        <!-- –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º –Ω–∏–∂–µ -->
                    </select>
                </label>

                <label>Email –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞
                    <input type="email" name="contact_email" placeholder="security@company.local">
                </label>

                <label>–¢–µ–ª–µ—Ñ–æ–Ω –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞
                    <input type="text" name="contact_phone" placeholder="+7 (999) 123-45-67">
                </label>

                <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                    <textarea name="notes" placeholder="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å—Ç–∞—Ç—É—Å –ø–æ –ò–ë, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ç.–ø."></textarea>
                </label>
            </div>

            <div class="form-actions">
                <button type="submit">–°–æ–∑–¥–∞—Ç—å</button>
                <a href="/clients" class="btn secondary">–û—Ç–º–µ–Ω–∞</a>
            </div>
        </form>
    </div>
</main>

<script>
// –°–≤—è–∑–∫–∞ ¬´—Ç–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ -> —Å–ø–∏—Å–æ–∫ –æ—Ç—Ä–∞—Å–ª–µ–π¬ª
const industryOptions = {
    "–ë–∞–Ω–∫/—Ñ–∏–Ω–∞–Ω—Å—ã": [
        "–ë–∞–Ω–∫",
        "–ú–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è",
        "–ü–ª–∞—Ç—ë–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å",
        "–°—Ç—Ä–∞—Ö–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è"
    ],
    "–ì–æ—Å–æ—Ä–≥–∞–Ω": [
        "–§–û–ò–í / —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–µ –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ",
        "–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ä–≥–∞–Ω –≤–ª–∞—Å—Ç–∏",
        "–ú—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç",
        "–ü–æ–¥–≤–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω–æ–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ"
    ],
    "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ": [
        "–í–£–ó",
        "–ö–æ–ª–ª–µ–¥–∂ / —Ç–µ—Ö–Ω–∏–∫—É–º",
        "–®–∫–æ–ª–∞ / –ª–∏—Ü–µ–π",
        "–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä"
    ],
    "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å/–ö–ò–ò": [
        "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ",
        "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞",
        "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç / –ª–æ–≥–∏—Å—Ç–∏–∫–∞",
        "–î—Ä—É–≥–æ–µ –ö–ò–ò"
    ],
    "IT/–¢–µ–ª–µ–∫–æ–º": [
        "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ü–û",
        "–î–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä / –æ–±–ª–∞—á–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä",
        "–û–ø–µ—Ä–∞—Ç–æ—Ä —Å–≤—è–∑–∏",
        "–•–æ—Å—Ç–∏–Ω–≥ / SaaS"
    ],
    "–†–∏—Ç–µ–π–ª/—É—Å–ª—É–≥–∏": [
        "–†–∏—Ç–µ–π–ª / —Å–µ—Ç—å –º–∞–≥–∞–∑–∏–Ω–æ–≤",
        "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω / e-commerce",
        "–°—Ñ–µ—Ä–∞ —É—Å–ª—É–≥",
        "HoReCa"
    ],
    "–ú–µ–¥–∏—Ü–∏–Ω–∞": [
        "–ß–∞—Å—Ç–Ω–∞—è –∫–ª–∏–Ω–∏–∫–∞",
        "–ì–æ—Å–ø–∏—Ç–∞–ª—å / –±–æ–ª—å–Ω–∏—Ü–∞",
        "–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä",
        "–°—Ç—Ä–∞—Ö–æ–≤–∞—è –º–µ–¥–∏—Ü–∏–Ω–∞"
    ],
    "–î—Ä—É–≥–æ–µ": [
        "–î—Ä—É–≥–æ–µ / —Å–º–µ—à–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å"
    ]
};

const orgTypeSelect = document.getElementById("orgTypeSelect");
const industrySelect = document.getElementById("industrySelect");

function rebuildIndustryOptions(typeValue) {
    // –æ—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫
    industrySelect.innerHTML = "";
    const placeholder = document.createElement("option");
    placeholder.value = "";
    placeholder.textContent = "‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∞—Å–ª—å ‚Äî";
    industrySelect.appendChild(placeholder);

    const list = industryOptions[typeValue] || [];
    list.forEach(v => {
        const opt = document.createElement("option");
        opt.value = v;
        opt.textContent = v;
        industrySelect.appendChild(opt);
    });
}

if (orgTypeSelect && industrySelect) {
    orgTypeSelect.addEventListener("change", function () {
        rebuildIndustryOptions(this.value);
    });
}
</script>

</body>
</html>
